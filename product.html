<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Product Page</title>

  <!-- ✅ REQUIRED: Data Layer init -->
  <script>
    window.dataLayer = window.dataLayer || [];
    dataLayer.push({
      event: 'page_init',
      page_type: 'product',
      item_id: 'sku_12345'
    });
  </script>

  <!-- Google Tag Manager -->
  <script>
    (function (w, d, s, l, i) {
      w[l] = w[l] || [];
      w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
      var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s),
        dl = l !== 'dataLayer' ? '&l=' + l : '';
      j.async = true;
      j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
      f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-PLBZCT95');
  </script>

  <link rel="stylesheet" href="css/styles.css" />
</head>

<body id="page-product">

  <!-- GTM noscript (recommended) -->
  <noscript>
    <iframe
      src="https://www.googletagmanager.com/ns.html?id=GTM-PLBZCT95"
      height="0"
      width="0"
      style="display:none;visibility:hidden">
    </iframe>
  </noscript>

  <!-- Global site header / navigation -->
  <header class="site-header">
    <nav class="site-nav" id="main-navigation">
      <a href="index.html" data-nav-item="home">Home</a>
      <a href="product.html" data-nav-item="product">Product</a>
      <a href="checkout.html" data-nav-item="checkout">Checkout</a>
    </nav>
  </header>

  <main>
    <article class="product" data-product-id="sku_12345">
      <h1 class="product__title">Test Product</h1>
      <p class="product__price" data-price="29.99">€29.99</p>

      <button
        id="btn-add-to-cart"
        class="btn btn-primary"
        data-product-name="Test Product"
        data-product-price="29.99">
        Add to Cart
      </button>
    </article>
  </main>

  <!-- ✅ JS load order matters -->
  <script src="js/main.js"></script>
  <script src="js/product.js"></script>
</body>
</html>
